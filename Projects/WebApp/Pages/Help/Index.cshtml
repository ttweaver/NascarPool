@page
@model WebApp.Pages.Help.IndexModel
@{
    ViewData["Title"] = "Season Setup Guide";
}

<div class="container-fluid">
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h1 class="mb-0"><i class="bi bi-info-circle me-2"></i>Season Setup Guide</h1>
        </div>
        <div class="card-body">
            <p class="lead">This guide will walk you through the complete process of setting up a new NASCAR Pool season.</p>

            <!-- Step 1: Create the Pool -->
            <div class="mb-5">
                <h2 class="text-primary mb-3">
                    <span class="badge bg-primary me-2">1</span>Create the Pool
                </h2>
                <div class="card">
                    <div class="card-body">
                        <p class="mb-3">The pool represents a season in your NASCAR Pool application.</p>
                        <ol class="mb-3">
                            <li>Navigate to <strong>Pools</strong> from the main menu</li>
                            <li>Click the <span class="badge bg-primary">Create New Pool</span> button</li>
                            <li>Enter the <strong>Name</strong> (e.g., "2026 NASCAR Season")</li>
                            <li>Enter the <strong>Year</strong> (e.g., 2026)</li>
                            <li>Click <span class="badge bg-success">Create</span></li>
                        </ol>
                        <div class="alert alert-info mb-0">
                            <i class="bi bi-lightbulb me-2"></i>
                            <strong>Tip:</strong> Use a consistent naming convention like "YEAR Season" to keep your pools organized.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2: Add Drivers -->
            <div class="mb-5">
                <h2 class="text-primary mb-3">
                    <span class="badge bg-primary me-2">2</span>Add Drivers
                </h2>
                <div class="card">
                    <div class="card-body">
                        <p class="mb-3">Add all drivers participating in the season to your pool.</p>
                        <ol class="mb-3">
                            <li>Navigate to <strong>Drivers</strong> from the main menu</li>
                            <li>Select your newly created pool from the dropdown at the top of the page</li>
                            <li>Click <span class="badge bg-primary">Add New Driver</span></li>
                            <li>Enter the driver's <strong>Name</strong> and <strong>Car Number</strong></li>
                            <li>Click <span class="badge bg-success">Create</span></li>
                            <li>Repeat for all drivers in the season</li>
                        </ol>
                        <div class="alert alert-warning mb-0">
                            <i class="bi bi-exclamation-triangle me-2"></i>
                            <strong>Important:</strong> Add all drivers before players start making picks. Drivers are pool-specific, so each season needs its own driver list.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 3: Add Races -->
            <div class="mb-5">
                <h2 class="text-primary mb-3">
                    <span class="badge bg-primary me-2">3</span>Add Races
                </h2>
                <div class="card">
                    <div class="card-body">
                        <p class="mb-3">Add all races scheduled for the season.</p>
                        <ol class="mb-3">
                            <li>Navigate to <strong>Races</strong> from the main menu</li>
                            <li>Select your newly created pool from the dropdown</li>
                            <li>Click <span class="badge bg-primary">Add New Race</span></li>
                            <li>Enter the race details:
                                <ul>
                                    <li><strong>Name</strong> (e.g., "Daytona 500")</li>
                                    <li><strong>Date</strong> (race date)</li>
                                    <li><strong>City</strong> (e.g., "Daytona Beach")</li>
                                    <li><strong>State</strong> (select from dropdown)</li>
                                </ul>
                            </li>
                            <li>Click <span class="badge bg-success">Create</span></li>
                            <li>Repeat for all races in the season</li>
                        </ol>
                        <div class="alert alert-info mb-0">
                            <i class="bi bi-lightbulb me-2"></i>
                            <strong>Alternative:</strong> If available, you can use the Import feature to automatically load the race schedule from NASCAR.com (note: this feature may need adjustment based on the website structure).
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 4: Manage Allowed Users -->
            <div class="mb-5">
                <h2 class="text-primary mb-3">
                    <span class="badge bg-primary me-2">4</span>Manage Allowed Users
                </h2>
                <div class="card">
                    <div class="card-body">
                        <p class="mb-3">Define which users can register and participate in the pool.</p>
                        <ol class="mb-3">
                            <li>Navigate to <strong>Users</strong> &gt; <strong>Manage Allowed Users</strong></li>
                            <li>Click <span class="badge bg-primary">Add New User</span></li>
                            <li>Enter the user's information:
                                <ul>
                                    <li><strong>First Name</strong></li>
                                    <li><strong>Last Name</strong></li>
                                    <li><strong>Email</strong></li>
                                </ul>
                            </li>
                            <li>Click <span class="badge bg-primary">Save</span></li>
                            <li>Repeat for all participants</li>
                        </ol>
                        <div class="alert alert-warning mb-0">
                            <i class="bi bi-exclamation-triangle me-2"></i>
                            <strong>Note:</strong> Only users added to this list will be able to register for the pool. They will need to create their own accounts using the email addresses you specify.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 5: Add Players to Pool -->
            <div class="mb-5">
                <h2 class="text-primary mb-3">
                    <span class="badge bg-primary me-2">5</span>Add Players to Pool
                </h2>
                <div class="card">
                    <div class="card-body">
                        <p class="mb-3">After users have registered, add them as members of the pool.</p>
                        <ol class="mb-3">
                            <li>Navigate to <strong>Pools</strong> from the main menu</li>
                            <li>Find your pool and click <span class="badge bg-success">Update Players</span></li>
                            <li>Select all registered users who should participate in this pool</li>
                            <li>Click <span class="badge bg-primary">Save</span></li>
                        </ol>
                        <div class="alert alert-info mb-0">
                            <i class="bi bi-lightbulb me-2"></i>
                            <strong>Tip:</strong> Players must be registered users before they can be added to a pool. Make sure they've completed their registration first.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 6: Players Make Picks -->
            <div class="mb-5">
                <h2 class="text-primary mb-3">
                    <span class="badge bg-primary me-2">6</span>Players Make Picks
                </h2>
                <div class="card">
                    <div class="card-body">
                        <p class="mb-3">Once the pool is set up, players can make their picks.</p>
                        <h5 class="mb-3">Player Actions:</h5>
                        <ol class="mb-3">
                            <li>Each player logs into their account</li>
                            <li>On the <strong>Dashboard</strong>, they can:
                                <ul>
                                    <li>Select their <strong>Primary Driver</strong> for the first half of the season</li>
                                    <li>Select their <strong>Primary Driver</strong> for the second half of the season (at midpoint)</li>
                                </ul>
                            </li>
                            <li>Navigate to <strong>Races</strong> to view the schedule</li>
                            <li>For each race, they can make picks before the race date</li>
                        </ol>
                        <div class="alert alert-success mb-0">
                            <i class="bi bi-check-circle me-2"></i>
                            <strong>Note:</strong> Players can view all picks after the race date, but picks are hidden from other players until the race occurs.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 7: Enter Race Results -->
            <div class="mb-5">
                <h2 class="text-primary mb-3">
                    <span class="badge bg-primary me-2">7</span>Enter Race Results
                </h2>
                <div class="card">
                    <div class="card-body">
                        <p class="mb-3">After each race, administrators enter the results.</p>
                        <ol class="mb-3">
                            <li>Navigate to <strong>Races</strong> from the main menu</li>
                            <li>Find the completed race in the list</li>
                            <li>Click <span class="badge bg-info">Enter Results</span></li>
                            <li>Enter the finishing positions for drivers</li>
                            <li>Click <span class="badge bg-primary">Save</span></li>
                        </ol>
                        <div class="alert alert-warning mb-0">
                            <i class="bi bi-exclamation-triangle me-2"></i>
                            <strong>Important:</strong> Points are automatically calculated based on the results you enter. Make sure to enter accurate finishing positions.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Reference -->
            <div class="mb-4">
                <h2 class="text-primary mb-3">
                    <i class="bi bi-bookmark me-2"></i>Quick Reference
                </h2>
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Setup Order:</h5>
                                <ol class="mb-0">
                                    <li>Create Pool</li>
                                    <li>Add Drivers</li>
                                    <li>Add Races</li>
                                    <li>Manage Allowed Users</li>
                                    <li>Add Players to Pool</li>
                                </ol>
                            </div>
                            <div class="col-md-6">
                                <h5>During Season:</h5>
                                <ul class="mb-0">
                                    <li>Players make picks before each race</li>
                                    <li>Enter results after each race</li>
                                    <li>View standings on the Dashboard</li>
                                    <li>Edit picks (admin only) if needed</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Best Practices -->
            <div class="mb-0">
                <h2 class="text-primary mb-3">
                    <i class="bi bi-star me-2"></i>Best Practices
                </h2>
                <div class="card border-success">
                    <div class="card-body">
                        <ul class="mb-0">
                            <li class="mb-2"><strong>Complete setup before the season starts:</strong> Have all drivers, races, and players added before the first race.</li>
                            <li class="mb-2"><strong>Consistent naming:</strong> Use consistent naming conventions for pools (e.g., "2026 Season").</li>
                            <li class="mb-2"><strong>Test the system:</strong> Create a test pool and walk through the process before your actual season.</li>
                            <li class="mb-2"><strong>Communicate with players:</strong> Send email reminders about registration deadlines and race dates.</li>
                            <li class="mb-2"><strong>Regular updates:</strong> Enter race results promptly so players can track their standings.</li>
                            <li class="mb-2"><strong>Backup data:</strong> Regularly backup your database, especially before major updates.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-footer">
            <button type="button" class="btn btn-secondary" onclick="history.back()">
                <i class="bi bi-arrow-left"></i> Back
            </button>
        </div>
    </div>
</div>

@section Styles {
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
}